<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="generator" content="PML 5.0.0 (www.pml-lang.dev)" />
        <title>Core PDML Specification</title>
        <link rel="stylesheet" href="css/pml-default.css">
        <link rel="stylesheet" href="css/pml-print-default.css" media="print">

    </head>
    <body>

        <div class="pml-doc-wrapper">
            <header class="pml-doc-header">
            </header>
            <div class="pml-doc-content">
                <aside class="pml-doc-left">
                    <nav class="pml-toc">
                        <h2 class="pml-toc-title">Table of Contents</h2>
                        <div class="pml-toc-tree" id="TOCTree">
                            <ul>
                                <li class="pml-toc-leaf-node"><a href="#introduction">Introduction</a></li>
                                <li class="pml-toc-branch-node">
                                    <details>
                                        <summary><a href="#spec">Part I: Specification</a></summary>
                                        <ul>
                                            <li class="pml-toc-leaf-node"><a href="#overview">Overview</a></li>
                                            <li class="pml-toc-leaf-node"><a href="#terms">Basic PDML Terminology</a></li>
                                            <li class="pml-toc-branch-node">
                                                <details>
                                                    <summary><a href="#tree_structure">Tree Structure</a></summary>
                                                    <ul>
                                                        <li class="pml-toc-leaf-node"><a href="#tag_def">Tag</a></li>
                                                        <li class="pml-toc-branch-node">
                                                            <details>
                                                                <summary><a href="#tagged_branch_node">Tagged Branch Node</a></summary>
                                                                <ul>
                                                                    <li class="pml-toc-leaf-node"><a href="#syntax">Syntax</a></li>
                                                                    <li class="pml-toc-leaf-node"><a href="#node_separator">Separator</a></li>
                                                                    <li class="pml-toc-leaf-node"><a href="#child_nodes">Child Nodes</a></li>
                                                                </ul>
                                                            </details>
                                                        </li>
                                                        <li class="pml-toc-leaf-node"><a href="#tagged_leaf_node">Tagged Leaf Node</a></li>
                                                        <li class="pml-toc-leaf-node"><a href="#untagged_leaf_node">Untagged Text Leaf Node</a></li>
                                                    </ul>
                                                </details>
                                            </li>
                                            <li class="pml-toc-leaf-node"><a href="#invalid_characters">Invalid Characters</a></li>
                                            <li class="pml-toc-leaf-node"><a href="#character_escape_sequences">Character Escape Sequences</a></li>
                                            <li class="pml-toc-leaf-node"><a href="#whitespace">Whitespace Rules</a></li>
                                            <li class="pml-toc-leaf-node"><a href="#encoding">Encoding</a></li>
                                            <li class="pml-toc-leaf-node"><a href="#versioning">Versioning</a></li>
                                            <li class="pml-toc-leaf-node"><a href="#ch__18">Useful Links</a></li>
                                            <li class="pml-toc-leaf-node"><a href="#glossary">Glossary</a></li>
                                        </ul>
                                    </details>
                                </li>
                                <li class="pml-toc-branch-node">
                                    <details>
                                        <summary><a href="#guidelines">Part II: Usage and Implementation Guidelines</a></summary>
                                        <ul>
                                            <li class="pml-toc-leaf-node"><a href="#length_limits_tips">Length Limits</a></li>
                                            <li class="pml-toc-branch-node">
                                                <details>
                                                    <summary><a href="#tag_tips">Tags</a></summary>
                                                    <ul>
                                                        <li class="pml-toc-leaf-node"><a href="#tag_usage">Usage</a></li>
                                                        <li class="pml-toc-leaf-node"><a href="#tag_length_tips">Length</a></li>
                                                        <li class="pml-toc-leaf-node"><a href="#tag_case">Case-Sensitivity</a></li>
                                                        <li class="pml-toc-leaf-node"><a href="#tag_escape_tip">Escaped Characters</a></li>
                                                        <li class="pml-toc-leaf-node"><a href="#anonymous_nodes">Anonymous Nodes</a></li>
                                                        <li class="pml-toc-leaf-node"><a href="#duplicate_tags">Duplicate Tags</a></li>
                                                    </ul>
                                                </details>
                                            </li>
                                            <li class="pml-toc-branch-node">
                                                <details>
                                                    <summary><a href="#whitespace_tips">How to Handle Whitespace</a></summary>
                                                    <ul>
                                                        <li class="pml-toc-leaf-node"><a href="#whitespace_principles">Basic Principles</a></li>
                                                        <li class="pml-toc-branch-node">
                                                            <details>
                                                                <summary><a href="#insignificant_whitespace">Insignificant Whitespace</a></summary>
                                                                <ul>
                                                                    <li class="pml-toc-leaf-node"><a href="#whitespace_functions">Utility Functions and Methods</a></li>
                                                                    <li class="pml-toc-leaf-node"><a href="#whitespace_types">Types</a></li>
                                                                    <li class="pml-toc-leaf-node"><a href="#whitespace_parser">Customized Parsers</a></li>
                                                                    <li class="pml-toc-leaf-node"><a href="#whitespace_application">Application-Specific Handling</a></li>
                                                                </ul>
                                                            </details>
                                                        </li>
                                                        <li class="pml-toc-branch-node">
                                                            <details>
                                                                <summary><a href="#line_breaks_tips">Line Breaks</a></summary>
                                                                <ul>
                                                                    <li class="pml-toc-leaf-node"><a href="#line_breaks_reading_tips">Reading Operations</a></li>
                                                                    <li class="pml-toc-leaf-node"><a href="#line_breaks_writing_tips">Writing Operations</a></li>
                                                                </ul>
                                                            </details>
                                                        </li>
                                                        <li class="pml-toc-leaf-node"><a href="#tabs_tips">Character Tabulations</a></li>
                                                    </ul>
                                                </details>
                                            </li>
                                            <li class="pml-toc-leaf-node"><a href="#binary_data_tips">Encoding Binary Data</a></li>
                                        </ul>
                                    </details>
                                </li>
                                <li class="pml-toc-branch-node">
                                    <details>
                                        <summary><a href="#about">About This Document</a></summary>
                                        <ul>
                                            <li class="pml-toc-leaf-node"><a href="#copyright">Copyright</a></li>
                                            <li class="pml-toc-leaf-node"><a href="#Acknowledgments">Acknowledgments</a></li>
                                            <li class="pml-toc-leaf-node"><a href="#source_code">Markup</a></li>
                                            <li class="pml-toc-leaf-node"><a href="#history">Revision History</a></li>
                                        </ul>
                                    </details>
                                </li>
                            </ul>
                        </div>
                    </nav>
                </aside>
                <article id="doc__" class="pml-doc-text">
                    <h1 class="pml-doc-title">Core PDML Specification</h1>
                    <table class="pml-table">
                        <tr class="pml-table-body-row">
                            <td class="pml-table-body-cell">
                                <p class="pml-paragraph"><b class="pml-bold">Version</b></p>

                            </td>
                            <td class="pml-table-body-cell">
                                <p class="pml-paragraph">2.0.0</p>

                            </td>

                        </tr>
                        <tr class="pml-table-body-row">
                            <td class="pml-table-body-cell">
                                <p class="pml-paragraph"><b class="pml-bold">Latest update</b></p>

                            </td>
                            <td class="pml-table-body-cell">
                                <p class="pml-paragraph">2025-03-25</p>

                            </td>

                        </tr>
                        <tr class="pml-table-body-row">
                            <td class="pml-table-body-cell">
                                <p class="pml-paragraph"><b class="pml-bold">First published</b></p>

                            </td>
                            <td class="pml-table-body-cell">
                                <p class="pml-paragraph">2021-06-13</p>

                            </td>

                        </tr>
                        <tr class="pml-table-body-row">
                            <td class="pml-table-body-cell">
                                <p class="pml-paragraph"><b class="pml-bold">Website</b></p>

                            </td>
                            <td class="pml-table-body-cell">
                                <p class="pml-paragraph"><a class="pml-link" href="https://pdml-lang.dev/">https://pdml-lang.dev/</a></p>

                            </td>

                        </tr>
                        <tr class="pml-table-body-row">
                            <td class="pml-table-body-cell">
                                <p class="pml-paragraph"><b class="pml-bold">Author</b></p>

                            </td>
                            <td class="pml-table-body-cell">
                                <p class="pml-paragraph">Christian Neumanns</p>

                            </td>

                        </tr>
                        <tr class="pml-table-body-row">
                            <td class="pml-table-body-cell">
                                <p class="pml-paragraph"><b class="pml-bold">Copyright ¬© 2019-2025</b></p>

                            </td>
                            <td class="pml-table-body-cell">
                                <p class="pml-paragraph">Christian Neumanns</p>

                            </td>

                        </tr>

                    </table>
                    <section id="introduction" class="pml-chapter">
                        <h2 class="pml-chapter-title">Introduction</h2>
                        <p class="pml-paragraph">The <a class="pml-link" href="https://pdml-lang.dev/"><b class="pml-bold">Practical Data and Markup Language</b></a> (<b class="pml-bold">PDML</b>) is a text format designed for encoding data and markup (i.e. formatted text).</p>
                        <p class="pml-paragraph">This document is divided into two parts:</p>
                        <ul class="pml-list">
                            <li class="pml-list-element">
                                <p class="pml-paragraph"><a class="pml-xref" href="#spec">Part I: Specification</a>: provides the Core PDML rules for encoding data and markup as plain text.</p>
                                <p class="pml-paragraph">The specification is written for anyone who wants to know the exact rules governing the PDML text format (e.g. software developers who want to implement a PDML parser, an editor/IDE plugin, or other PDML assets).</p>

                            </li>
                            <li class="pml-list-element">
                                <p class="pml-paragraph"><a class="pml-xref" href="#guidelines">Part II: Usage and Implementation Guidelines</a>: provides practical tips for using and implementing Core PDML.</p>

                            </li>

                        </ul>
                        <div class="pml-admonition">
                            <div class="pml-admonition-label">
                                <p class="pml-paragraph">Note</p>

                            </div>
                            <div class="pml-admonition-content">
                                <p class="pml-paragraph">Readers are supposed to be familiar with common technical IT terms such as <a class="pml-link" href="https://en.wikipedia.org/wiki/Unicode">Unicode</a> and <a class="pml-link" href="https://en.wikipedia.org/wiki/Abstract_syntax_tree">abstract syntax tree</a> (AST).</p>
                                <p class="pml-paragraph">For general information about PDML you may read <a class="pml-link" href="../../overview/index.html">PDML Overview</a>.</p>
                                <p class="pml-paragraph">Before reading the specification, you might also want to first see some <a class="pml-link" href="../../core/examples/index.html">Core PDML Examples</a>, to get an idea of how data and markup are encoded in PDML.</p>
                            </div>
                        </div>

                    </section>
                    <section id="spec" class="pml-chapter">
                        <h2 class="pml-chapter-title">Part I: Specification</h2>
                        <p class="pml-paragraph">This part provides the authoritative specification for <i class="pml-italic">Core PDML</i>, encompassing the fundamental set of simple rules needed for encoding data and markup of any complexity as plain text. This is the minimum set of rules that every PDML implementation must conform to.</p>
                        <p class="pml-paragraph"><a class="pml-link" href="../../extensions/user_manual/index.html">PDML Extensions</a> (optional features designed to enrich the Core PDML functionality) are not covered here. The difference between Core PDML and PDML Extensions is explained in <a class="pml-link" href="../../overview/index.html#core_addon">What Is &quot;Core PDML&quot; and What Are &quot;PDML Extensions&quot;?</a>.</p>
                        <div class="pml-admonition">
                            <div class="pml-admonition-label">
                                <p class="pml-paragraph">Note</p>

                            </div>
                            <div class="pml-admonition-content">
                                <p class="pml-paragraph">PDML syntax rules are shown in <a class="pml-link" href="https://en.wikipedia.org/wiki/Extended_Backus%E2%80%93Naur_form">Extended Backus‚ÄìNaur form</a> (EBNF) notation.</p>
                            </div>
                        </div>
                        <section id="overview" class="pml-chapter">
                            <h3 class="pml-chapter-title">Overview</h3>
                            <p class="pml-paragraph">In this chapter you&apos;ll be presented with a birds-eye view of Core PDML, in order to become acquainted with its terminology and rules, and grasp a general understanding. Throughout the following chapters, each element will be explained in full detail. You may <a class="pml-xref" href="#terms">skip this chapter</a> if you&apos;re already familiar with the basic Core PDML concepts.</p>
                            <p class="pml-paragraph">A PDML document is structured as a tree that can contain three types of nodes:</p>
                            <ul class="pml-list">
                                <li class="pml-list-element">
                                    <div class="pml-header" role="heading"><a class="pml-xref" href="#tagged_branch_node">Tagged Branch Node</a></div>
                                    <p class="pml-paragraph">This node has a tag (aka label or name) and one or more child nodes.</p>
                                    <p class="pml-paragraph">A <a class="pml-xref" href="#tag_def">tag</a> is a sequence of one or more Unicode code points (e.g. <code class="pml-inline-code">config</code>, <code class="pml-inline-code">chapter</code>).</p>
                                    <p class="pml-paragraph">Each <a class="pml-xref" href="#child_nodes">child node</a> can be anyone of the three node types.</p>
                                    <p class="pml-paragraph">Syntax: <code class="pml-inline-code">&quot;[&quot; tag separator node + &quot;]&quot;</code></p>
                                    <p class="pml-paragraph">The <a class="pml-xref" href="#node_separator">separator</a> can be a space, tab, or line break.</p>
                                    <div class="pml-header" role="heading">Example</div>
                                    <p class="pml-paragraph">You can use tagged branch nodes, for instance, to encode a record (aka structure, struct, or compound data). Here&apos;s a simple example of a node tagged <code class="pml-inline-code">dimensions</code> containing two child-nodes, the first tagged <code class="pml-inline-code">width</code> and the second one <code class="pml-inline-code">height</code>:</p>
                                    <pre class="pml-code"><code>[dimensions [width 200][height 100]]</code></pre>
                                    <p class="pml-paragraph">In other words, the above code represents a record (tagged <code class="pml-inline-code">dimensions</code>) with two fields: <code class="pml-inline-code">width</code> and <code class="pml-inline-code">height</code>. Each field is a key‚Äìvalue pair. In our example, the key <code class="pml-inline-code">width</code> contains the value <code class="pml-inline-code">200</code>).</p>
                                    <p class="pml-paragraph">We can enhance readability by indenting nested nodes:</p>
                                    <pre class="pml-code"><code>[dimensions
    [width 200]
    [height 100]
]</code></pre>
                                    <p class="pml-paragraph">In XML, the semantically equivalent tree looks like this:</p>
                                    <pre class="pml-code"><code>&lt;dimensions&gt;
    &lt;width&gt;200&lt;/width&gt;
    &lt;height&gt;100&lt;/height&gt;
&lt;/dimensions&gt;</code></pre>
                                    <p class="pml-paragraph">And here&apos;s the same data structure expressed in JSON:</p>
                                    <pre class="pml-code"><code>{
    &quot;dimensions&quot;: {
        &quot;width&quot;: 200,
        &quot;height&quot;: 100
    }
}</code></pre>

                                </li>
                                <li class="pml-list-element">
                                    <div class="pml-header" role="heading"><a class="pml-xref" href="#tagged_leaf_node">Tagged Leaf Node</a></div>
                                    <p class="pml-paragraph">This node has a tag, but no child nodes.</p>
                                    <p class="pml-paragraph">Syntax: <code class="pml-inline-code">&quot;[&quot; tag &quot;]&quot;</code></p>
                                    <div class="pml-header" role="heading">Example</div>
                                    <p class="pml-paragraph">Tagged leaf nodes are used to encode record fields that have no value (aka &quot;absence of value&quot;; <code class="pml-inline-code">null</code>, <code class="pml-inline-code">nil</code>, <code class="pml-inline-code">nothing</code>, <code class="pml-inline-code">void</code> in programming languages).</p>
                                    <p class="pml-paragraph">Suppose that a user didn&apos;t enter a value for field <code class="pml-inline-code">remark</code> in a data entry form. Then the code representing this field (i.e. its key‚Äìvalue pair) would look like this:</p>
                                    <p class="pml-paragraph">PDML: <code class="pml-inline-code">[remark]</code></p>
                                    <p class="pml-paragraph">XML: <code class="pml-inline-code">&lt;remark&gt;&lt;/remark&gt;</code> or <code class="pml-inline-code">&lt;remark /&gt;</code></p>
                                    <p class="pml-paragraph">JSON: <code class="pml-inline-code">{ &quot;remark&quot;: null }</code></p>
                                    <p class="pml-paragraph">Besides being used for record fields with no values, tagged leaf nodes are also useful to represent native elements, especially in markup documents.</p>
                                    <p class="pml-paragraph">For example, a horizontal rule (hr) in a markup document would be inserted using the following syntax:</p>
                                    <p class="pml-paragraph">PDML: <code class="pml-inline-code">[hr]</code></p>
                                    <p class="pml-paragraph">HTML: <code class="pml-inline-code">&lt;hr /&gt;</code> or <code class="pml-inline-code">&lt;hr&gt;</code></p>

                                </li>
                                <li class="pml-list-element">
                                    <div class="pml-header" role="heading"><a class="pml-xref" href="#untagged_leaf_node">Untagged Text Leaf Node</a></div>
                                    <p class="pml-paragraph">This node is composed of text (Unicode code points), and it doesn&apos;t have a tag.</p>
                                    <div class="pml-header" role="heading">Example</div>
                                    <p class="pml-paragraph">Untagged text leaf node: <code class="pml-inline-code">Lorem ipsum ...</code></p>
                                    <p class="pml-paragraph">An untagged text leaf is always contained in a tagged branch node. Here&apos;s a branch node tagged <code class="pml-inline-code">p</code> (paragraph) containing the untagged text leaf <code class="pml-inline-code">Lorem ipsum ...</code>:</p>
                                    <p class="pml-paragraph">PDML: <code class="pml-inline-code">[p Lorem ipsum ...]</code></p>
                                    <p class="pml-paragraph">HTML: <code class="pml-inline-code">&lt;p&gt;Lorem ipsum ...&lt;/p&gt;</code></p>

                                </li>

                            </ul>
                            <p class="pml-paragraph">The root node of a PDML document must be a tagged branch node or a tagged leaf node.</p>
                            <div class="pml-header" role="heading">Example</div>
                            <p class="pml-paragraph">Here&apos;s a PDML document containing a mixture of data and markup code:</p>
                            <div class="pml-caption">File example.pdml</div>
                            <pre class="pml-code"><code>[document
    [data
        [message
            [id 123]
            [content All is well! üëç]
            [public? yes]
            [remark]
        ]
    ]
    [markup_code
        [p We can write text in [b bold], [i italic], or [b [i bold and italic]].]
    ]
]</code></pre>
                            <p class="pml-paragraph">The following image shows the tree structure of node <code class="pml-inline-code">data</code>, stripped of indentation:</p>
                            <figure style="text-align: center">
                                <img class="pml-image" src="images/tree_example.png" width="400">
                            </figure>
                            <div class="pml-header" role="heading">File System Analogies</div>
                            <p class="pml-paragraph">A PDML document is structured in a way that resembles the tree of directories and files on your PC.</p>
                            <p class="pml-paragraph">To help you grasp the essence of PDML terminology, the following analogies may prove useful:</p>
                            <ul class="pml-list">
                                <li class="pml-list-element">
                                    <p class="pml-paragraph">A directory containing other directories and/or files is like a tagged branch node in PDML: It has a name (called tag in PDML) and child-nodes.</p>

                                </li>
                                <li class="pml-list-element">
                                    <p class="pml-paragraph">An empty directory is like a tagged leaf node in PDML: It only has a name (a tag).</p>

                                </li>
                                <li class="pml-list-element">
                                    <p class="pml-paragraph">A non-empty text file is like an untagged text leaf node in PDML: It contains a sequence of one or more characters. However, while a file has a name, an untagged text leaf has no tag.</p>

                                </li>

                            </ul>

                        </section>
                        <section id="terms" class="pml-chapter">
                            <h3 class="pml-chapter-title">Basic PDML Terminology</h3>
                            <p class="pml-paragraph">Some commonly used IT-terms are defined as follows in the context of PDML:</p>
                            <ul class="pml-list">
                                <li class="pml-list-element">
                                    <div id="character_def" class="pml-header" role="heading">Character</div>
                                    <p class="pml-paragraph">A single <a class="pml-link" href="https://en.wikipedia.org/wiki/List_of_Unicode_characters">Unicode code point</a>.</p>
                                    <p class="pml-paragraph">Examples: <code class="pml-inline-code">a</code>, <code class="pml-inline-code">Z</code>, <code class="pml-inline-code">√©</code>, <code class="pml-inline-code">Êó•</code>, <code class="pml-inline-code">0</code>, <code class="pml-inline-code">9</code>, <code class="pml-inline-code">!</code>, <code class="pml-inline-code">üòÄ</code></p>

                                </li>
                                <li class="pml-list-element">
                                    <div id="text_def" class="pml-header" role="heading">Text</div>
                                    <p class="pml-paragraph">A sequence of one or more characters.</p>
                                    <p class="pml-paragraph">Examples: <code class="pml-inline-code">Hello</code>, <code class="pml-inline-code">Guten Tag!</code>, <code class="pml-inline-code">„ÇÑ„ÅÇ</code>, <code class="pml-inline-code">a = b + 1</code></p>

                                </li>
                                <li class="pml-list-element">
                                    <div id="whitespace_character_def" class="pml-header" role="heading">Whitespace character</div>
                                    <p class="pml-paragraph">Any one of the following characters:</p>
                                    <table class="pml-table">
                                        <thead class="pml-table-header">
                                            <tr class="pml-table-header-row">
<th class="pml-table-header-cell">Unicode Code Point</th><th class="pml-table-header-cell">Unicode Name</th><th class="pml-table-header-cell">C-style Syntax</th></tr>
                                        </thead>
                                        <tbody class="pml-table-body">
                                            <tr class="pml-table-body-row">
<td class="pml-table-body-cell">U+0009</td><td class="pml-table-body-cell">Character Tabulation (HT, TAB)</td><td class="pml-table-body-cell">&apos;\t&apos;</td></tr>
                                            <tr class="pml-table-body-row">
<td class="pml-table-body-cell">U+000A</td><td class="pml-table-body-cell">End of Line (EOL, LF, NL)</td><td class="pml-table-body-cell">&apos;\n&apos;</td></tr>
                                            <tr class="pml-table-body-row">
<td class="pml-table-body-cell">U+000C</td><td class="pml-table-body-cell">Form Feed (FF)</td><td class="pml-table-body-cell">&apos;\f&apos;</td></tr>
                                            <tr class="pml-table-body-row">
<td class="pml-table-body-cell">U+000D</td><td class="pml-table-body-cell">Carriage Return (CR)</td><td class="pml-table-body-cell">&apos;\r&apos;</td></tr>
                                            <tr class="pml-table-body-row">
<td class="pml-table-body-cell">U+0020</td><td class="pml-table-body-cell">Space (SP)</td><td class="pml-table-body-cell">&apos; &apos;</td></tr>
                                        </tbody>
                                    </table>

                                </li>
                                <li class="pml-list-element">
                                    <div id="whitespace_def" class="pml-header" role="heading">Whitespace</div>
                                    <p class="pml-paragraph">A sequence of one or more whitespace characters.</p>

                                </li>
                                <li class="pml-list-element">
                                    <div id="line_break_def" class="pml-header" role="heading">Line break</div>
                                    <p class="pml-paragraph">One of the following:</p>
                                    <ul class="pml-list">
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph"><code class="pml-inline-code">LF</code>: a single End of Line character (U+000A), also called <b class="pml-bold">Unix/Linux line break</b></p>

                                        </li>
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph"><code class="pml-inline-code">CRLF</code>: a sequence of a single Carriage Return character (U+000D) followed by a single End of Line character (+U000A), also called <b class="pml-bold">Windows/DOS line break</b></p>

                                        </li>

                                    </ul>

                                </li>

                            </ul>

                        </section>
                        <section id="tree_structure" class="pml-chapter">
                            <h3 class="pml-chapter-title">Tree Structure</h3>
                            <p class="pml-paragraph">As mentioned in <a class="pml-xref" href="#overview">Overview</a>, a <b class="pml-bold">PDML document</b> is structured as a tree that can contain three types of nodes:</p>
                            <ul class="pml-list">
                                <li class="pml-list-element">
                                    <p class="pml-paragraph"><a class="pml-xref" href="#tagged_branch_node">Tagged Branch Node</a>: has a <a class="pml-xref" href="#tag_def">tag</a> and one or more <a class="pml-xref" href="#child_nodes">child nodes</a>.</p>
                                    <p class="pml-paragraph">A child node can be anyone of the three node types.</p>

                                </li>
                                <li class="pml-list-element">
                                    <p class="pml-paragraph"><a class="pml-xref" href="#tagged_leaf_node">Tagged Leaf Node</a>: has a <a class="pml-xref" href="#tag_def">tag</a>, but no child nodes.</p>

                                </li>
                                <li class="pml-list-element">
                                    <p class="pml-paragraph"><a class="pml-xref" href="#untagged_leaf_node">Untagged Text Leaf Node</a>: is composed of <a class="pml-xref" href="#text_def">text</a>.</p>

                                </li>

                            </ul>
                            <p class="pml-paragraph">The root node must be a tagged branch node or a tagged leaf node.</p>
                            <div class="pml-admonition">
                                <div class="pml-admonition-label">
                                    <p class="pml-paragraph">Note</p>

                                </div>
                                <div class="pml-admonition-content">
                                    <p class="pml-paragraph">PDML is a text format, and this specification describes the rules for encoding PDML documents as plain text ‚Äî typically represented as a sequence of Unicode code points stored in a UTF-8 encoded text file bearing the <code class="pml-inline-code">.pdml</code> extension.</p>
                                    <p class="pml-paragraph">Beyond text encoding, there are other methods for storing PDML documents, but they are not covered here. For example, a PDML parser typically stores a PDML document in an abstract or concrete syntax tree (AST or CST). These data structures are implementation- and programming-language-dependant, and beyond the scope of this specification.</p>
                                </div>
                            </div>
                            <section id="tag_def" class="pml-chapter">
                                <h4 class="pml-chapter-title">Tag</h4>
                                <p class="pml-paragraph">Each tagged node (i.e. <a class="pml-xref" href="#tagged_branch_node">tagged branch node</a> or <a class="pml-xref" href="#tagged_leaf_node">tagged leaf node</a>) must have a tag (aka label, name).</p>
                                <p class="pml-paragraph">A <b class="pml-bold">tag</b> is composed of arbitrary <a class="pml-xref" href="#text_def">text</a>.</p>
                                <p class="pml-paragraph">Some characters are not allowed (see <a class="pml-xref" href="#invalid_characters">Invalid Characters</a>). Moreover, some characters must be escaped (see <a class="pml-xref" href="#character_escape_sequences">Character Escape Sequences</a>).</p>
                                <p class="pml-paragraph">A node tag does not need to be unique. Distinct nodes in a tree may have the same tag, even if they are siblings.</p>
                                <p class="pml-paragraph">Here are a few tag examples:</p>
                                <pre class="pml-code"><code>quality
Qualit√§t               // German for &quot;quality&quot;
‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û                 // Thai for &quot;quality&quot;
text_color
list.index-a
123
2d_point
2025-01-07
_
üòç                     // Unicode emoticon</code></pre>
                                <p class="pml-paragraph">Tags may contain whitespace characters, but they must be escaped (see <a class="pml-xref" href="#character_escape_sequences">Character Escape Sequences</a>).</p>
                                <p class="pml-paragraph">For example, the tag <code class="pml-inline-code">Net Weight</code> contains a space character which must be replaced with its escape sequence <code class="pml-inline-code">\s</code>:</p>
                                <pre class="pml-code"><code>Net\sWeight</code></pre>
                                <p class="pml-paragraph">And this tag, which contains also a line break and square brackets (in addition to a space):</p>
                                <pre class="pml-code"><code>Net Weight
[kg]</code></pre>
                                <p class="pml-paragraph">... must be written:</p>
                                <pre class="pml-code"><code>Net\sWeight\n\[kg\]</code></pre>

                            </section>
                            <section id="tagged_branch_node" class="pml-chapter">
                                <h4 class="pml-chapter-title">Tagged Branch Node</h4>
                                <p class="pml-paragraph">A <b class="pml-bold">tagged branch node</b> (also simply called <b class="pml-bold">branch node</b>) is composed of a <a class="pml-xref" href="#tag_def">tag</a>, a <a class="pml-xref" href="#node_separator">separator</a>, and a list of one or more <a class="pml-xref" href="#child_nodes">child nodes</a>.</p>
                                <section id="syntax" class="pml-chapter">
                                    <h5 class="pml-chapter-title">Syntax</h5>
                                    <p class="pml-paragraph">The syntax of a tagged branch node is as follows:</p>
                                    <pre class="pml-code"><code>&quot;[&quot; tag separator node + &quot;]&quot;</code></pre>
                                    <p class="pml-paragraph">A tagged branch node is enclosed by a pair of square brackets (<code class="pml-inline-code">[...]</code>) which serve as <b class="pml-bold">node delimiters</b>: the node starts with an <b class="pml-bold">opening delimiter</b> <code class="pml-inline-code">[</code> and ends with a <b class="pml-bold">closing delimiter</b> <code class="pml-inline-code">]</code>. Note that a <a class="pml-xref" href="#tagged_leaf_node">Tagged Leaf Node</a> is also enclosed by a pair of square brackets, but an <a class="pml-xref" href="#untagged_leaf_node">Untagged Text Leaf Node</a> isn&apos;t.</p>
                                    <p class="pml-paragraph">The opening delimiter (<code class="pml-inline-code">[</code>) is immediately followed by the node <a class="pml-xref" href="#tag_def">tag</a>, a <a class="pml-xref" href="#node_separator">separator</a> (often a single space), and one or more <a class="pml-xref" href="#child_nodes">child nodes</a>.</p>
                                    <p class="pml-paragraph">A node with tag <code class="pml-inline-code">greeting</code> and text content (child-node) <code class="pml-inline-code">Hello world</code> looks as follows:</p>
                                    <pre class="pml-code"><code>[greeting Hello world]</code></pre>
                                    <div id="tagged_text_node" class="pml-division">
                                        <p class="pml-paragraph">A tagged branch node containing only text (as in the example above) is called a <b class="pml-bold">tagged text node</b>.</p>

                                    </div>

                                </section>
                                <section id="node_separator" class="pml-chapter">
                                    <h5 class="pml-chapter-title">Separator</h5>
                                    <p class="pml-paragraph">In a tagged branch node, the node <a class="pml-xref" href="#tag_def">tag</a> must be separated from the <a class="pml-xref" href="#child_nodes">child nodes</a> (i.e. the node contents) by a valid <b class="pml-bold">separator</b>.</p>
                                    <p class="pml-paragraph">The following separators (consisting of one or two whitespace characters) are allowed:</p>
                                    <table class="pml-table">
                                        <thead class="pml-table-header">
                                            <tr class="pml-table-header-row">
<th class="pml-table-header-cell">Unicode Code Point(s)</th><th class="pml-table-header-cell">Name</th><th class="pml-table-header-cell">C-style Syntax</th></tr>
                                        </thead>
                                        <tbody class="pml-table-body">
                                            <tr class="pml-table-body-row">
<td class="pml-table-body-cell">U+0020</td><td class="pml-table-body-cell">Space</td><td class="pml-table-body-cell">&apos; &apos;</td></tr>
                                            <tr class="pml-table-body-row">
<td class="pml-table-body-cell">U+000A</td><td class="pml-table-body-cell">End of Line (Unix line break)</td><td class="pml-table-body-cell">&apos;\n&apos;</td></tr>
                                            <tr class="pml-table-body-row">
<td class="pml-table-body-cell">U+000D U+000A</td><td class="pml-table-body-cell">Windows line break</td><td class="pml-table-body-cell">&quot;\r\n&quot;</td></tr>
                                            <tr class="pml-table-body-row">
<td class="pml-table-body-cell">U+0009</td><td class="pml-table-body-cell">Character Tabulation</td><td class="pml-table-body-cell">&apos;\t&apos;</td></tr>
                                        </tbody>
                                    </table>
                                    <p class="pml-paragraph">Let&apos;s look at some examples.</p>
                                    <p class="pml-paragraph">Here&apos;s a node tagged <code class="pml-inline-code">color</code> with text content <code class="pml-inline-code">green</code>, and a space used as separator:</p>
                                    <pre class="pml-code"><code>[color green]
      ^</code></pre>
                                    <p class="pml-paragraph">If two spaces were present:</p>
                                    <pre class="pml-code"><code>[color  green]
      ^^</code></pre>
                                    <p class="pml-paragraph">... then the first space would serve as separator, while the second space would be part of the node content. In other words, the above node contains the text ‚Äú<code class="pml-inline-code"> green</code>‚Äù (i.e. the text starts with one space).</p>
                                    <p class="pml-paragraph">Because a line break is also a valid separator, the following two nodes are semantically equivalent:</p>
                                    <pre class="pml-code"><code>[color green]

[color
green]</code></pre>
                                    <p class="pml-paragraph">Note that the line break in the second example can be a Unix/Linux line break (<code class="pml-inline-code">LF</code>) or a Windows line break (<code class="pml-inline-code">CRLF</code>).</p>
                                    <p class="pml-paragraph">Now consider the following snippet:</p>
                                    <pre class="pml-code"><code>[color
    green
]</code></pre>
                                    <p class="pml-paragraph">Here, the line break after <code class="pml-inline-code">color</code> serves as separator, and the node contains a single text leaf starting with four spaces (i.e. the indentation) and ending with a line break (included).</p>
                                    <p class="pml-paragraph">The following example shows node <code class="pml-inline-code">b</code> containing node <code class="pml-inline-code">i</code> with text content <code class="pml-inline-code">huge</code>:</p>
                                    <pre class="pml-code"><code>[b [i huge]]
  ^  ^</code></pre>
                                    <p class="pml-paragraph">It would be invalid to omit the separator of node <code class="pml-inline-code">b</code>:</p>
                                    <pre class="pml-code"><code>[b[i huge]]
  ^          INVALID!</code></pre>
                                    <p class="pml-paragraph">The separator is <i class="pml-italic">required</i> in tagged branch nodes.</p>
                                    <p class="pml-paragraph">Note that each tagged branch node has only one separator right after the tag, no matter how many child nodes it contains. Consider this snippet:</p>
                                    <pre class="pml-code"><code>[foo [key1 value1] [key2 value2]]
                  ^</code></pre>
                                    <p class="pml-paragraph">The space between the two child nodes is not a separator of the child nodes ‚Äî it is an <a class="pml-xref" href="#untagged_leaf_node">Untagged Text Leaf Node</a> composed of a single space. Hence, node <code class="pml-inline-code">foo</code> contains three child nodes, the second one being a single space character.</p>
                                    <p class="pml-paragraph">Also note that escaped whitespace characters are not eligible separators, and will be treated as part of the tag. This snippet:</p>
                                    <pre class="pml-code"><code>[a\sb c]</code></pre>
                                    <p class="pml-paragraph">... represents a node with tag <code class="pml-inline-code">a b</code> and text content <code class="pml-inline-code">c</code> ‚Äî it does not represent a node with tag <code class="pml-inline-code">a</code> and text content <code class="pml-inline-code">b c</code>.</p>

                                </section>
                                <section id="child_nodes" class="pml-chapter">
                                    <h5 class="pml-chapter-title">Child Nodes</h5>
                                    <p class="pml-paragraph">A tagged branch node contains a list (i.e. ordered sequence) of one or more child nodes.</p>
                                    <p class="pml-paragraph">A <b class="pml-bold">child node</b> can be:</p>
                                    <ul class="pml-list">
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph">a <a class="pml-xref" href="#tagged_branch_node">tagged branch node</a> (which might itself have child nodes too) (e.g. <code class="pml-inline-code">[color green]</code>)</p>

                                        </li>
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph">a <a class="pml-xref" href="#tagged_leaf_node">tagged leaf node</a> (e.g. <code class="pml-inline-code">[remark]</code>)</p>

                                        </li>
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph">an <a class="pml-xref" href="#untagged_leaf_node">untagged text leaf node</a> (e.g. <code class="pml-inline-code">lorem ipsum ...</code>)</p>

                                        </li>

                                    </ul>
                                    <p class="pml-paragraph">Examples:</p>
                                    <ul class="pml-list">
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph">A branch node tagged <code class="pml-inline-code">color</code>, containing the text <code class="pml-inline-code">light green</code>:</p>
                                            <pre class="pml-code"><code>[color light green]</code></pre>

                                        </li>
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph">A branch node containing another branch node:</p>
                                            <pre class="pml-code"><code>[config [color light green]]</code></pre>
                                            <p class="pml-paragraph">Here, node <code class="pml-inline-code">config</code> contains one child node, tagged <code class="pml-inline-code">color</code>, containing the text <code class="pml-inline-code">light green</code>.</p>

                                        </li>
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph">A deeply nested tree:</p>
                                            <pre class="pml-code"><code>[config [color light green][size [width 200][height 100]]]</code></pre>
                                            <p class="pml-paragraph">Node <code class="pml-inline-code">config</code> contains two child nodes: <code class="pml-inline-code">color</code> and <code class="pml-inline-code">size</code>. Node <code class="pml-inline-code">size</code> also contains two child nodes: <code class="pml-inline-code">width</code> and <code class="pml-inline-code">height</code>.</p>
                                            <p class="pml-paragraph">The above code is written using the so-called <i class="pml-italic">compact</i> form. To increase readability and maintainability we can <i class="pml-italic">prettify</i> it using indentation:</p>
                                            <pre class="pml-code"><code>[config
    [color light green]
    [size
        [width 200]
        [height 100]
    ]
]</code></pre>
                                            <p class="pml-paragraph">However, note that the additional whitespace used for indenting is part of the data stored in the AST. As explained later, whitespace is preserved in PDML (as in XML, but unlike JSON and YAML). After removing the whitespace used for indentation, the tree will be equivalent to its compact form (see <a class="pml-xref" href="#insignificant_whitespace">Insignificant Whitespace</a>).</p>

                                        </li>
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph">A branch node containing a mixture of text and other branch nodes:</p>
                                            <pre class="pml-code"><code>[p We can write words in [b bold], [i italic], or [b [i bold and italic]].]</code></pre>
                                            <p class="pml-paragraph">In this example, PDML is used to encode markup that would be rendered as follows:</p>
                                            <p class="pml-paragraph">We can write words in <b class="pml-bold">bold</b>, <i class="pml-italic">italic</i>, or <b class="pml-bold"><i class="pml-italic">bold and italic</i></b>.</p>

                                        </li>

                                    </ul>

                                </section>

                            </section>
                            <section id="tagged_leaf_node" class="pml-chapter">
                                <h4 class="pml-chapter-title">Tagged Leaf Node</h4>
                                <p class="pml-paragraph">A <b class="pml-bold">tagged leaf node</b> has only a <a class="pml-xref" href="#tag_def">tag</a>, but no separator nor child nodes.</p>
                                <p class="pml-paragraph">Its syntax is as follows:</p>
                                <pre class="pml-code"><code>&quot;[&quot; tag &quot;]&quot;</code></pre>
                                <p class="pml-paragraph">Example of a tagged leaf node with tag <code class="pml-inline-code">remark</code>:</p>
                                <pre class="pml-code"><code>[remark]</code></pre>
                                <div class="pml-admonition">
                                    <div class="pml-admonition-label">
                                        <p class="pml-paragraph">Important</p>

                                    </div>
                                    <div class="pml-admonition-content">
                                        <p class="pml-paragraph">A separator is <i class="pml-italic">not permitted</i> in a tagged leaf node. Hence, the following code is invalid, and the parser must generate an error:</p>
                                        <pre class="pml-code"><code>[remark ]
       ^    INVALID! </code></pre>
                                        <p class="pml-paragraph">If two spaces were present:</p>
                                        <pre class="pml-code"><code>[remark  ]
       ^^</code></pre>
                                        <p class="pml-paragraph">... then the code would represent a <a class="pml-xref" href="#tagged_branch_node">Tagged Branch Node</a> containing an <a class="pml-xref" href="#untagged_leaf_node">Untagged Text Leaf Node</a> consisting of a single space character.</p>
                                    </div>
                                </div>

                            </section>
                            <section id="untagged_leaf_node" class="pml-chapter">
                                <h4 class="pml-chapter-title">Untagged Text Leaf Node</h4>
                                <p class="pml-paragraph">An <b class="pml-bold">untagged text leaf node</b> (also simply called a <b class="pml-bold">text leaf</b>) is composed of arbitrary <a class="pml-xref" href="#text_def">text</a>. This text is all there is to this node ‚Äî there&apos;s no tag and no delimiters.</p>
                                <p class="pml-paragraph">Some characters are not allowed (see <a class="pml-xref" href="#invalid_characters">Invalid Characters</a>). Moreover, some characters <i class="pml-italic">must</i> be escaped and others <i class="pml-italic">may</i> be escaped (see <a class="pml-xref" href="#character_escape_sequences">Character Escape Sequences</a>).</p>
                                <p class="pml-paragraph">An untagged text leaf node must be contained in a <a class="pml-xref" href="#tagged_branch_node">tagged branch node</a>. In other words, a text leaf is always a child of a branch node.</p>
                                <p class="pml-paragraph">For example, a branch node tagged <code class="pml-inline-code">message</code> containing the text leaf <code class="pml-inline-code">All is well! üëç</code> looks as follows:</p>
                                <pre class="pml-code"><code>[message All is well! üëç]</code></pre>
                                <p class="pml-paragraph">As previously mentioned, a <a class="pml-xref" href="#tagged_branch_node">tagged branch node</a> containing only text is also called a tagged text node. Hence, the above example shows a <i class="pml-italic">tagged text node</i> (tagged <code class="pml-inline-code">message</code>) containing the <i class="pml-italic">text leaf</i> <code class="pml-inline-code">All is well! üëç</code>.</p>
                                <p class="pml-paragraph">Using the Thai language, the node would look like this:</p>
                                <pre class="pml-code"><code>[‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏î‡∏µ üëç]</code></pre>
                                <p class="pml-paragraph">Here&apos;s a contrived example of a branch node tagged <code class="pml-inline-code">1</code> containing the text leaf <code class="pml-inline-code">2 3</code>:</p>
                                <pre class="pml-code"><code>[1 2 3]</code></pre>
                                <p class="pml-paragraph">The following <code class="pml-inline-code">warning</code> node contains the text leaf: <code class="pml-inline-code">Characters \, [, ], and ^ must be escaped.</code>:</p>
                                <pre class="pml-code"><code>[warning Characters \\, \[, \], and \^ must be escaped.]</code></pre>

                            </section>

                        </section>
                        <section id="invalid_characters" class="pml-chapter">
                            <h3 class="pml-chapter-title">Invalid Characters</h3>
                            <p class="pml-paragraph">The following characters (Unicode code points) are invalid anywhere in a PDML document (including <a class="pml-xref" href="#tag_def">tags</a> and <a class="pml-xref" href="#untagged_leaf_node">text leaves</a>), because they can cause readability, interpretation, and security issues.</p>
                            <ul class="pml-list">
                                <li class="pml-list-element">
                                    <p class="pml-paragraph"><a class="pml-link" href="https://www.unicode.org/charts/nameslist/n_0000.html">C0 Controls</a> in the range U+0000 to U+001F (included), except:</p>
                                    <ul class="pml-list">
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph">U+0009 (Character Tabulation)</p>

                                        </li>
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph">U+000A (End of Line)</p>

                                        </li>
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph">U+000C (Form Feed)</p>

                                        </li>
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph">U+000D (Carriage Return)</p>

                                        </li>

                                    </ul>

                                </li>
                                <li class="pml-list-element">
                                    <p class="pml-paragraph"><a class="pml-link" href="https://www.unicode.org/charts/nameslist/n_0080.html">C1 Controls</a> in the range U+0080 to U+009F (included)</p>

                                </li>

                            </ul>
                            <div class="pml-admonition">
                                <div class="pml-admonition-label">
                                    <p class="pml-paragraph">Tip</p>

                                </div>
                                <div class="pml-admonition-content">
                                    <p class="pml-paragraph"><a class="pml-link" href="../../extensions/user_manual/index.html#unicode_escape_sequences">Unicode Escape Sequences</a> (a PDML extension not covered here) can be used to insert the above Unicode code points (C0 Controls and C1 Controls). For example, a backspace (U+0008) can be inserted using the Unicode escape sequence <code class="pml-inline-code">\u{8}</code>.</p>
                                    <p class="pml-paragraph">The only exception is U+0000, which is always invalid in PDML documents, even when written as an escape sequence. U+0000 is prohibited because many programming languages treat it as a string terminator. As a result, its inclusion within a string could cause unexpected and unpredictable malfunctions, potentially creating vulnerabilities that could be exploited maliciously.</p>
                                    <p class="pml-paragraph">To represent binary or non-printable data in a PDML document, encoding methods like <a class="pml-link" href="https://en.wikipedia.org/wiki/Base64">Base64</a> should be used, ensuring the document remains valid, readable, and interoperable (see <a class="pml-xref" href="#binary_data_tips">Encoding Binary Data</a>).</p>
                                </div>
                            </div>

                        </section>
                        <section id="character_escape_sequences" class="pml-chapter">
                            <h3 class="pml-chapter-title">Character Escape Sequences</h3>
                            <p class="pml-paragraph">Some characters in <a class="pml-xref" href="#tag_def">tags</a> and <a class="pml-xref" href="#untagged_leaf_node">text leaves</a> must be escaped.</p>
                            <p class="pml-paragraph">A <b class="pml-bold">character escape sequence</b> starts with a backslash (<code class="pml-inline-code">\</code>), followed by a second character that denotes the escaped character (as in C-like programming languages).</p>
                            <p class="pml-paragraph">For example, the character escape sequence <code class="pml-inline-code">\t</code> is used to escape a Character Tabulation (TAB).</p>
                            <p class="pml-paragraph">The following table shows the character escape sequences:</p>
                            <table class="pml-table">
                                <thead class="pml-table-header">
                                    <tr class="pml-table-header-row">
                                        <th class="pml-table-header-cell">
                                            <p class="pml-paragraph">PDML Category</p>

                                        </th>
                                        <th class="pml-table-header-cell">
                                            <p class="pml-paragraph">Unicode<br />Code Point</p>

                                        </th>
                                        <th class="pml-table-header-cell">
                                            <p class="pml-paragraph">Character</p>

                                        </th>
                                        <th class="pml-table-header-cell">
                                            <p class="pml-paragraph">Escape<br />Sequence</p>

                                        </th>
                                        <th class="pml-table-header-cell">
                                            <p class="pml-paragraph">Mandatory<br />in Text Leaves</p>

                                        </th>

                                    </tr>

                                </thead>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph">Escape character</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">U+005C</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">\</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">\\</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">yes</p>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell" rowspan="2">
                                        <p class="pml-paragraph">Node delimiters</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">U+005B</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">[</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">\[</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">yes</p>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">U+005D</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">]</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">\]</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">yes</p>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell" rowspan="5">
                                        <p class="pml-paragraph">Whitespace<br />characters</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">U+0009</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">Character Tabulation<br />(HT, TAB)</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">\t</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">no</p>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">U+000A</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">End of Line<br />(EOL, LF, NL)</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">\n</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">no</p>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">U+000C</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">Form Feed<br />(FF)</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">\f</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">no</p>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">U+000D</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">Carriage Return<br />(CR)</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">\r</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">no</p>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">U+0020</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">Space<br />(SP)</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">\s</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">no</p>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell" rowspan="12">
                                        <p class="pml-paragraph">Reserved<br />characters<br />(current and<br />future extensions)</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">U+005E</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">^</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">\^</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">yes</p>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">U+0028</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">(</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">\(</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">no</p>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">U+0029</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">)</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">\)</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">no</p>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">U+003D</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">=</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">\=</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">no</p>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">U+0022</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">&quot;</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">\&quot;</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">no</p>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">U+007E</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">~</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">\~</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">no</p>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">U+007C</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">|</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">\|</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">no</p>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">U+003A</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">:</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">\:</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">no</p>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">U+002C</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">,</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">\,</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">no</p>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">U+0060</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">`</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">\`</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">no</p>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">U+0021</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">!</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">\!</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">no</p>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">U+0024</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">$</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">\$</p>

                                    </td>
                                    <td class="pml-table-body-cell" style="text-align:center;">
                                        <p class="pml-paragraph">no</p>

                                    </td>

                                </tr>

                            </table>
                            <p class="pml-paragraph">All characters in the above table <i class="pml-italic">must</i> be escaped in <a class="pml-xref" href="#tag_def">tags</a>.</p>
                            <p class="pml-paragraph">However, only characters in rows marked as &quot;yes&quot; in the last column <i class="pml-italic">must</i> be escaped in <a class="pml-xref" href="#untagged_leaf_node">text leaves</a>. Characters in rows marked as &quot;no&quot; <i class="pml-italic">may</i> be escaped.</p>
                            <p class="pml-paragraph">For instance:</p>
                            <ul class="pml-list">
                                <li class="pml-list-element">
                                    <p class="pml-paragraph">The text snippet <code class="pml-inline-code">a[1]</code> must be written as <code class="pml-inline-code">a\[1\]</code> in tags and in text leaves.</p>

                                </li>
                                <li class="pml-list-element">
                                    <p class="pml-paragraph">The text snippet <code class="pml-inline-code">a=b</code> must be written as <code class="pml-inline-code">a\=b</code> in tags; in text leaves it can be written as <code class="pml-inline-code">a=b</code> or <code class="pml-inline-code">a\=b</code>.</p>

                                </li>

                            </ul>
                            <div class="pml-admonition">
                                <div class="pml-admonition-label">
                                    <p class="pml-paragraph">Note</p>

                                </div>
                                <div class="pml-admonition-content">
                                    <p class="pml-paragraph">The reason for having characters that <i class="pml-italic">may</i> be escaped in text leaves is to support the same set of escape sequences in tags and text leaves.</p>
                                    <p class="pml-paragraph">This can be useful, for instance, when shared code (possibly auto-generated) is used in tags and text leaves. For example, the text snippet <code class="pml-inline-code">a\sb</code> can be inserted into a tag as well as into a text leaf.</p>
                                </div>
                            </div>
                            <p class="pml-paragraph">Escape sequences not listed in the above table are invalid and parsers must generate an error if they occur in a PDML document. For example, if <code class="pml-inline-code">\m</code> occurs in a PDML document, the parser must generate an error ‚Äî it must not convert <code class="pml-inline-code">\m</code> to <code class="pml-inline-code">m</code> or ignore the invalid escape sequence.</p>
                            <div class="pml-header" role="heading">Example</div>
                            <p class="pml-paragraph">A node tagged <code class="pml-inline-code">Note (important)</code> with text content <code class="pml-inline-code">Characters \, [, ], and ^ must be escaped.</code> is written as follows:</p>
                            <pre class="pml-code"><code>[Note\s\(important\) Characters \\, \[, \], and \^ must be escaped.]</code></pre>

                        </section>
                        <section id="whitespace" class="pml-chapter">
                            <h3 class="pml-chapter-title">Whitespace Rules</h3>
                            <p class="pml-paragraph">A PDML document may contain <a class="pml-xref" href="#whitespace_def">whitespace</a> before or after the root node. Any other character is invalid (including escaped whitespace characters like <code class="pml-inline-code">\t</code> and <code class="pml-inline-code">\n</code>). Whitespace before or after the root node must be ignored.</p>
                            <p class="pml-paragraph">Here&apos;s a valid PDML document that has one empty line before the root node, and two empty lines after it:</p>
                            <pre class="pml-code"><code>
[root
    [child text]
]


</code></pre>
                            <p class="pml-paragraph">Whitespace within PDML documents (i.e. the text contained between the opening and closing delimiters of the root node) must be preserved by parsers.</p>
                            <p class="pml-paragraph">Consider the following PDML snippet:</p>
                            <pre class="pml-code"><code>[a  foo   [b]
    2 [c] [d]
]</code></pre>
                            <p class="pml-paragraph">Here, node <code class="pml-inline-code">a</code> contains seven child nodes:</p>
                            <ul class="pml-list">
                                <li class="pml-list-element">
                                    <p class="pml-paragraph">text leaf <code class="pml-inline-code">{space}foo{space}{space}{space}</code></p>

                                </li>
                                <li class="pml-list-element">
                                    <p class="pml-paragraph">tagged leaf node <code class="pml-inline-code">b</code></p>

                                </li>
                                <li class="pml-list-element">
                                    <p class="pml-paragraph">text leaf <code class="pml-inline-code">{line break}{space}{space}{space}{space}2{space}</code></p>

                                </li>
                                <li class="pml-list-element">
                                    <p class="pml-paragraph">tagged leaf node <code class="pml-inline-code">c</code></p>

                                </li>
                                <li class="pml-list-element">
                                    <p class="pml-paragraph">text leaf <code class="pml-inline-code">{space}</code></p>

                                </li>
                                <li class="pml-list-element">
                                    <p class="pml-paragraph">tagged leaf node <code class="pml-inline-code">d</code></p>

                                </li>
                                <li class="pml-list-element">
                                    <p class="pml-paragraph">text leaf <code class="pml-inline-code">{line break}</code></p>

                                </li>

                            </ul>
                            <p class="pml-paragraph">Note that all line breaks are stored in the AST as they are encountered, without any transformations such as normalization to <code class="pml-inline-code">LF</code>. Hence, an AST might contain a mixture of Unix line breaks (<code class="pml-inline-code">LF</code>) and Windows line breaks (<code class="pml-inline-code">CRLF</code>).</p>
                            <div class="pml-admonition">
                                <div class="pml-admonition-label">
                                    <p class="pml-paragraph">Note</p>

                                </div>
                                <div class="pml-admonition-content">
                                    <p class="pml-paragraph">Preserving whitespace must be the <i class="pml-italic">default</i> behavior of any PDML-compliant parser. See <a class="pml-xref" href="#whitespace_tips">How to Handle Whitespace</a> for guidelines about handling whitespace in specific contexts.</p>
                                </div>
                            </div>

                        </section>
                        <section id="encoding" class="pml-chapter">
                            <h3 class="pml-chapter-title">Encoding</h3>
                            <p class="pml-paragraph">PDML documents must be encoded in UTF-8. </p>

                        </section>
                        <section id="versioning" class="pml-chapter">
                            <h3 class="pml-chapter-title">Versioning</h3>
                            <p class="pml-paragraph">This specification adopts <a class="pml-link" href="https://semver.org/">Semantic Versioning</a>. </p>

                        </section>
                        <section id="ch__18" class="pml-chapter">
                            <h3 class="pml-chapter-title">Useful Links</h3>
                            <ul class="pml-list">
                                <li class="pml-list-element">
                                    <p class="pml-paragraph"><a class="pml-link" href="../../core/ebnf/index.html">Core PDML Grammar</a>, expressed in Extended Backus‚ÄìNaur form (EBNF) notation</p>

                                </li>
                                <li class="pml-list-element">
                                    <p class="pml-paragraph">Official website: <a class="pml-link" href="https://pdml-lang.dev/">pdml-lang.dev</a></p>

                                </li>
                                <li class="pml-list-element">
                                    <p class="pml-paragraph"><a class="pml-link" href="../../core/examples/index.html">Core PDML Examples</a></p>

                                </li>

                            </ul>

                        </section>
                        <section id="glossary" class="pml-chapter">
                            <h3 class="pml-chapter-title">Glossary</h3>
                            <div class="pml-admonition">
                                <div class="pml-admonition-label">
                                    <p class="pml-paragraph">Note</p>

                                </div>
                                <div class="pml-admonition-content">
                                    <p class="pml-paragraph">The following definitions are PDML-specific ‚Äî they might have different definitions in other domains.</p>
                                </div>
                            </div>
                            <table class="pml-table">
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph"><a class="pml-xref" href="#character_def"><b class="pml-bold">character</b></a></p>

                                    </td>
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph">A single Unicode code point.</p>
                                        <p class="pml-paragraph">Examples: <code class="pml-inline-code">a, Z, √©, Êó•, 0, 9, !, üòÄ</code></p>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph"><a class="pml-xref" href="#child_nodes"><b class="pml-bold">child node</b></a></p>

                                    </td>
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph">A node contained in a tagged branch node. The child can be a tagged branch node, tagged leaf node, or untagged text leaf node.</p>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph"><a class="pml-xref" href="#line_break_def"><b class="pml-bold">line break</b></a></p>

                                    </td>
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph">A Unix line break (<code class="pml-inline-code">LF</code>) or Windows line break (<code class="pml-inline-code">CRLF</code>).</p>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph"><a class="pml-xref" href="#syntax"><b class="pml-bold">node delimiters</b></a></p>

                                    </td>
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph">A pair of square brackets used to start and end a node (<code class="pml-inline-code">[...]</code>).</p>
                                        <p class="pml-paragraph">Example:</p>
                                        <pre class="pml-code"><code>[size big]
^        ^</code></pre>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph"><a class="pml-xref" href="#node_separator"><b class="pml-bold">node separator</b></a></p>

                                    </td>
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph">A space, line break, or tab that separates a tag from child nodes.</p>
                                        <p class="pml-paragraph">Example:</p>
                                        <pre class="pml-code"><code>[color dark green]
      ^</code></pre>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph"><b class="pml-bold">PDML AST</b></p>

                                    </td>
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph">An abstract syntax tree (AST) representing a PDML text document.</p>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph"><a class="pml-xref" href="#tree_structure"><b class="pml-bold">PDML text document</b></a></p>

                                    </td>
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph">UTF-8 text that encodes data and/or markup according to the rules of the PDML specification.</p>
                                        <p class="pml-paragraph">Example:</p>
                                        <pre class="pml-code"><code>[doc
    [data ...]
    [markup ...]
]</code></pre>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph"><a class="pml-xref" href="#tag_def"><b class="pml-bold">tag</b></a></p>

                                    </td>
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph">A label or name assigned to a tagged branch or tagged leaf node.</p>
                                        <p class="pml-paragraph">Example:</p>
                                        <pre class="pml-code"><code>[pi 3.1415]
 ^^</code></pre>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph"><a class="pml-xref" href="#tagged_branch_node"><b class="pml-bold">tagged branch node</b></a></p>

                                    </td>
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph">A node that has a tag, a separator, and one or more child nodes.</p>
                                        <p class="pml-paragraph">Example:</p>
                                        <pre class="pml-code"><code>[dimensions
    [width 200]
    [height 100]
]</code></pre>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph"><a class="pml-xref" href="#tagged_leaf_node"><b class="pml-bold">tagged leaf node</b></a></p>

                                    </td>
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph">A node that has a tag, but no separator and no child nodes.</p>
                                        <p class="pml-paragraph">Examples: <code class="pml-inline-code">[remark]</code>, <code class="pml-inline-code">[hr]</code></p>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph"><a class="pml-xref" href="#tagged_text_node"><b class="pml-bold">tagged text node</b></a></p>

                                    </td>
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph">A tagged branch node that contains a single text leaf.</p>
                                        <p class="pml-paragraph">Example: <code class="pml-inline-code">[color light green]</code></p>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph"><a class="pml-xref" href="#text_def"><b class="pml-bold">text</b></a></p>

                                    </td>
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph">A sequence of one or more characters (Unicode code points).</p>
                                        <p class="pml-paragraph">Examples: <code class="pml-inline-code">Hello</code>, <code class="pml-inline-code">Guten Tag!</code>, <code class="pml-inline-code">„ÇÑ„ÅÇ</code>, <code class="pml-inline-code">a = b + 1</code></p>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph"><a class="pml-xref" href="#untagged_leaf_node"><b class="pml-bold">untagged text leaf node (aka text leaf)</b></a></p>

                                    </td>
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph">A tagless leaf node composed of text.</p>
                                        <p class="pml-paragraph">Example: <code class="pml-inline-code">Lorem ipsum ...</code></p>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph"><a class="pml-xref" href="#whitespace_def"><b class="pml-bold">whitespace</b></a></p>

                                    </td>
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph">A sequence of one or more whitespace characters.</p>

                                    </td>

                                </tr>
                                <tr class="pml-table-body-row">
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph"><a class="pml-xref" href="#whitespace_character_def"><b class="pml-bold">whitespace character</b></a></p>

                                    </td>
                                    <td class="pml-table-body-cell">
                                        <p class="pml-paragraph">A space, tab, carriage return, line feed, or form feed.</p>

                                    </td>

                                </tr>

                            </table>

                        </section>

                    </section>
                    <section id="guidelines" class="pml-chapter">
                        <h2 class="pml-chapter-title">Part II: Usage and Implementation Guidelines</h2>
                        <p class="pml-paragraph">This part provides practical tips for using and implementing PDML, based on real-case scenarios that need to be considered.</p>
                        <p class="pml-paragraph">The following topics are covered: length limits, tips on using tags, handling whitespace, and encoding binary data.</p>
                        <section id="length_limits_tips" class="pml-chapter">
                            <h3 class="pml-chapter-title">Length Limits</h3>
                            <p class="pml-paragraph">The specification does not define a length limit (i.e. maximum number of characters/Unicode points) for tags, text leaves, or the whole document. Practical limitations depend on software implementations (e.g. parsers) and should be documented.</p>
                            <p class="pml-paragraph">In case of very large PDML documents, you may encounter performance issues or out-of-memory errors, depending on the capabilities of the system.</p>
                            <div class="pml-header" role="heading">Tip on Implementing a Parser</div>
                            <p class="pml-paragraph">If you create a parser designed to read very large documents, consider creating a <a class="pml-link" href="https://stackoverflow.com/questions/18382957/tree-parser-vs-stream-parser">streaming parser</a> that processes the document in smaller chunks. For example, instead of loading the whole document into memory, the parser only holds the currently parsed token in memory (e.g. a single tag or text leaf). The PDML reference implementation includes a streaming parser that uses this technique and generates events to be consumed by a handler. </p>

                        </section>
                        <section id="tag_tips" class="pml-chapter">
                            <h3 class="pml-chapter-title">Tags</h3>
                            <section id="tag_usage" class="pml-chapter">
                                <h4 class="pml-chapter-title">Usage</h4>
                                <p class="pml-paragraph">A <a class="pml-xref" href="#tag_def">tag</a> should shortly convey the content of the node.</p>
                                <p class="pml-paragraph">Examples:</p>
                                <ul class="pml-list">
                                    <li class="pml-list-element">
                                        <p class="pml-paragraph">A node with tag <code class="pml-inline-code">config</code> containing configuration data:</p>
                                        <pre class="pml-code"><code>[<b class="pml-bold">config</b>
    [client ...]
    [server ...]
    [shared ...]
]</code></pre>

                                    </li>
                                    <li class="pml-list-element">
                                        <p class="pml-paragraph">A node tagged <code class="pml-inline-code">customers</code> containing a list of customers:</p>
                                        <pre class="pml-code"><code>[<b class="pml-bold">customers</b>
    [customer ...]
    [customer ...]
    [customer ...]
]</code></pre>

                                    </li>
                                    <li class="pml-list-element">
                                        <p class="pml-paragraph">Node <code class="pml-inline-code">book</code> containing the markup of a book.</p>
                                        <pre class="pml-code"><code>[<b class="pml-bold">book</b>
    [meta
        [title ...]
        [author ...]
    ]
    [preface ...]
    [chapter ...]
    [chapter ...]
    [chapter ...]
]</code></pre>

                                    </li>

                                </ul>

                            </section>
                            <section id="tag_length_tips" class="pml-chapter">
                                <h4 class="pml-chapter-title">Length</h4>
                                <p class="pml-paragraph">Tags are rarely longer than 30 characters.</p>
                                <p class="pml-paragraph">To ensure readability, compatibility, and performance across various tools, tags should be less than 80 characters long.</p>

                            </section>
                            <section id="tag_case" class="pml-chapter">
                                <h4 class="pml-chapter-title">Case-Sensitivity</h4>
                                <p class="pml-paragraph">Whether tags are case-sensitive or not depends on the application that interprets a PDML document (according to the domain in which PDML is used).</p>
                                <p class="pml-paragraph">A PDML parser isn&apos;t concerned about case-sensitivity ‚Äî it simply parses each tag &quot;as-is&quot; and stores it in an AST (or whatever alternative data structure it employs to represent the parsed document).</p>
                                <p class="pml-paragraph">Hence, tags <code class="pml-inline-code">foo</code>, <code class="pml-inline-code">FOO</code>, and <code class="pml-inline-code">Foo</code> are parsed unchanged, and the target application which consumes the parsed document determines if the three tags are valid and if they are semantically equivalent or not.</p>

                            </section>
                            <section id="tag_escape_tip" class="pml-chapter">
                                <h4 class="pml-chapter-title">Escaped Characters</h4>
                                <p class="pml-paragraph">Tags rarely contain characters that <a class="pml-xref" href="#character_escape_sequences">must be escaped</a> (e.g. [, ], \).</p>
                                <p class="pml-paragraph">If you use PDML in a context where escape sequences are required frequently, you might want to use a parser that supports <a class="pml-link" href="../../extensions/user_manual/index.html#quoted_string_literal">Quoted String Literals</a> (a PDML extension, not part of Core PDML, and not specified here).</p>
                                <p class="pml-paragraph">Example: A node tagged <code class="pml-inline-code">Net Weight [Estimate]</code> and content <code class="pml-inline-code">200</code> must be written as follows in <i class="pml-italic">Core PDML</i>:</p>
                                <pre class="pml-code"><code>[Net\sWeight\s\[Estimate\] 200]</code></pre>
                                <p class="pml-paragraph">You can enhance readability and writeability by using a quoted string literal:</p>
                                <pre class="pml-code"><code>[&quot;Net Weight [Estimate]&quot; 200]</code></pre>

                            </section>
                            <section id="anonymous_nodes" class="pml-chapter">
                                <h4 class="pml-chapter-title">Anonymous Nodes</h4>
                                <p class="pml-paragraph">Sometimes a tag is irrelevant. In such cases, the convention is to use an underscore (<code class="pml-inline-code">_</code>). You can think of an underscore-tagged node as an anonymous node.</p>
                                <p class="pml-paragraph">Suppose we want to store a list of names:</p>
                                <pre class="pml-code"><code>[names
    [name Tim]
    [name Tom]
    [name Tam]
]</code></pre>
                                <p class="pml-paragraph">Instead of repeating <code class="pml-inline-code">name</code> for each element, you can simply use <code class="pml-inline-code">_</code>:</p>
                                <pre class="pml-code"><code>[names
    [_ Tim]
    [_ Tom]
    [_ Tam]
]</code></pre>
                                <p class="pml-paragraph">Here, <code class="pml-inline-code">_</code> is a valid tag, parsed and treated like any other tag. To keep the tag short you could use alternatives like <code class="pml-inline-code">n</code> or <code class="pml-inline-code">x</code>, or any other Unicode code point(s). However, by <i class="pml-italic">convention</i>, using <code class="pml-inline-code">_</code> tells us that the tag is irrelevant.</p>
                                <div class="pml-admonition">
                                    <div class="pml-admonition-label">
                                        <p class="pml-paragraph">Note</p>

                                    </div>
                                    <div class="pml-admonition-content">
                                        <p class="pml-paragraph">PDML extensions provide other ways to encode simple lists (e.g. <code class="pml-inline-code">[names Tim, Tom, Tam]</code>), but they are not covered in this document.</p>
                                    </div>
                                </div>

                            </section>
                            <section id="duplicate_tags" class="pml-chapter">
                                <h4 class="pml-chapter-title">Duplicate Tags</h4>
                                <p class="pml-paragraph">Section <a class="pml-xref" href="#tag_def">Tag</a> in the specification states: &quot;A node tag does not need to be unique. Distinct nodes in a tree may have the same tag, even if they are siblings.&quot;</p>
                                <p class="pml-paragraph">While this rule is a fundamental requirement for a <i class="pml-italic">general-purpose</i> data and markup language like PDML, it means that no parser error or warning is generated in cases where duplicate tags are not allowed.</p>
                                <p class="pml-paragraph">For example, keys must generally be unique in maps (aka dictionaries, associative arrays). Therefore, duplicate keys must be detected and handled properly <i class="pml-italic">after parsing</i>, either by the PDML implementation or by the target application.</p>
                                <p class="pml-paragraph">For example, the PDML reference implementation provides utility functions to convert PDML nodes into maps, and an exceptions is thrown in case of duplicate keys.</p>
                                <p class="pml-paragraph">Consider the following code:</p>
                                <pre class="pml-code"><code>[map
    <b class="pml-bold">[one 1]</b>
    [two 2]
    <b class="pml-bold">[one 1]</b>
]</code></pre>
                                <p class="pml-paragraph">Although key <code class="pml-inline-code">one</code> is defined twice, no error is generated at parse-time. The error is reported later when the node is converted into a native map.</p>

                            </section>

                        </section>
                        <section id="whitespace_tips" class="pml-chapter">
                            <h3 class="pml-chapter-title">How to Handle Whitespace</h3>
                            <p class="pml-paragraph">IT history has repeatedly proven that whitespace (though seemingly harmless) can cause unexpected results and malfunctions when handled incorrectly. Problems and unanticipated edge cases can arise due to the following factors:</p>
                            <ul class="pml-list">
                                <li class="pml-list-element">
                                    <p class="pml-paragraph">There is no universal, precise, one-size-fits-all definition for the term <i class="pml-italic">whitespace</i> in the IT world ‚Äî this term can mean different things in different domains and contexts.</p>

                                </li>
                                <li class="pml-list-element">
                                    <p class="pml-paragraph">To enhance readability and maintainability, we often insert insignificant whitespace (e.g. indents) into text documents containing data or markup.</p>

                                </li>
                                <li class="pml-list-element">
                                    <p class="pml-paragraph">Line breaks are defined differently in Unix/Linux (<code class="pml-inline-code">LF</code>) and Windows (<code class="pml-inline-code">CRLF</code>).</p>
                                    <p class="pml-paragraph">Moreover, editors and other tools might silently transform line breaks (e.g. <code class="pml-inline-code">CRLF</code> to <code class="pml-inline-code">LF</code>), and these transformations depend on the tools used, the OS, as well as configuration files installed on your PC.</p>

                                </li>
                                <li class="pml-list-element">
                                    <p class="pml-paragraph">Editors and other tools often render tabs as spaces, making it difficult for humans to distinguish between the two.</p>
                                    <p class="pml-paragraph">Software applications might also silently transform tabs to spaces, or vice versa.</p>

                                </li>

                            </ul>
                            <p class="pml-paragraph">To help you avoid unexpected issues, this section offers some tips for managing whitespace in PDML documents.</p>
                            <section id="whitespace_principles" class="pml-chapter">
                                <h4 class="pml-chapter-title">Basic Principles</h4>
                                <p class="pml-paragraph">To keep things straightforward and practical, PDML adheres to the following principles:</p>
                                <ul class="pml-list">
                                    <li class="pml-list-element">
                                        <p class="pml-paragraph">As stated in the specification, a <a class="pml-xref" href="#whitespace_character_def">whitespace character</a> can be a space (SP), character tabulation (HT, TAB), carriage return (CR), end of line (EOL, LF, NL), or form feed (FF). These are the characters commonly used in data and markup documents, and it&apos;s easy to type them on a keyboard. The only exception is <code class="pml-inline-code">FF</code>, which is supported because it&apos;s still used in some legacy applications.</p>
                                        <div class="pml-admonition">
                                            <div class="pml-admonition-label">
                                                <p class="pml-paragraph">Note</p>

                                            </div>
                                            <div class="pml-admonition-content">
                                                <p class="pml-paragraph">Unicode defines <a class="pml-link" href="https://en.wikipedia.org/wiki/Template:Whitespace_(Unicode)">additional</a> code points representing whitespace (over 20), but they have no special meaning in PDML ‚Äî they are parsed and stored in ASTs like any other character.</p>
                                            </div>
                                        </div>

                                    </li>
                                    <li class="pml-list-element">
                                        <p class="pml-paragraph">Section <a class="pml-xref" href="#whitespace">Whitespace Rules</a> states: &quot;Parsers must preserve whitespace in PDML documents.&quot;</p>
                                        <p class="pml-paragraph">This rule is justified because PDML is a <i class="pml-italic">general purpose and portable</i> text format. Any attempt to define <i class="pml-italic">standard</i> whitespace-handling rules would fail: the rules would be &quot;just what we need&quot; in some contexts, but &quot;totally unsuited&quot; in others.</p>

                                    </li>

                                </ul>

                            </section>
                            <section id="insignificant_whitespace" class="pml-chapter">
                                <h4 class="pml-chapter-title">Insignificant Whitespace</h4>
                                <p class="pml-paragraph">To illustrate the challenges of handling whitespace correctly in various situations, let&apos;s first consider a 2D point with coordinates <code class="pml-inline-code">x=1.234</code> and <code class="pml-inline-code">y=567.8</code>. In PDML we can encode this point as follows:</p>
                                <pre class="pml-code"><code>[2d_point [x 1.234][y 567.8]]</code></pre>
                                <p class="pml-paragraph">Here we use the so-called <i class="pml-italic">compact</i> form: every character is significant and required.</p>
                                <div class="pml-admonition">
                                    <div class="pml-admonition-label">
                                        <p class="pml-paragraph">Note</p>

                                    </div>
                                    <div class="pml-admonition-content">
                                        <p class="pml-paragraph">Whenever PDML documents are read and written only by machines, the compact form is usually preferable because it leads to better time- and space-efficiency.</p>
                                    </div>
                                </div>
                                <p class="pml-paragraph">Although the compact form is short and efficient, it can be difficult to read for humans (especially in the case of large, deeply nested trees). We can easily enhance readability and maintainability by indenting child nodes and treating the additional whitespace as insignificant:</p>
                                <pre class="pml-code"><code>[2d_point
    [x 1.234]
    [y 567.8]
]</code></pre>
                                <p class="pml-paragraph">The additional whitespace is called <i class="pml-italic">insignificant</i> because it doesn&apos;t change the data (semantics) ‚Äî it&apos;s sole purpose is to enhance readability and maintainability (aka <a class="pml-link" href="https://en.wikipedia.org/wiki/Prettyprint">pretty printing</a>, prettyfying, beautifying).</p>
                                <p class="pml-paragraph">We can further enhance readability by also inserting insignificant whitespace within the <code class="pml-inline-code">x</code> and <code class="pml-inline-code">y</code> nodes:</p>
                                <pre class="pml-code"><code>[2d_point
    [x   1.234]
    [y 567.8  ]
]</code></pre>
                                <p class="pml-paragraph">Because whitespace is preserved when the document is parsed into an AST, it must be ignored or removed in one way or another when the AST is transformed into a programming-language-dependant data structure (e.g. record) stored in memory.</p>
                                <p class="pml-paragraph">Now let&apos;s look at an example of markup:</p>
                                <pre class="pml-code"><code>[article [title Harmonious States][p This article [i demonstrates] that ...][p You&apos;ll also discover ...]]</code></pre>
                                <p class="pml-paragraph">Again, we can greatly enhance readability and show the tree structure by inserting insignificant whitespace:</p>
                                <pre class="pml-code"><code>[article [title Harmonious States]
    [p This article [i demonstrates] that ...]
    [p You&apos;ll also discover ...]
]</code></pre>
                                <p class="pml-paragraph">Since paragraphs are frequently used in markup, it would be convenient to omit the <code class="pml-inline-code">p</code> nodes and simply insert an empty line that will be interpreted as a paragraph break:</p>
                                <pre class="pml-code"><code>[article [title Harmonious States]
        
    This article [i demonstrates] that ...
        
    You&apos;ll also discover ...
]</code></pre>
                                <p class="pml-paragraph">Obviously, this level of user-friendlyness requires customized whitespace-handling rules to be applied by the application reading the PDML document.</p>
                                <p class="pml-paragraph">As you can see from these simple examples:</p>
                                <ul class="pml-list">
                                    <li class="pml-list-element">
                                        <p class="pml-paragraph">Insignificant whitespace is often useful because it enhances readability and maintainability, especially in cases of deeply nested PDML documents maintained by humans.</p>

                                    </li>
                                    <li class="pml-list-element">
                                        <p class="pml-paragraph">Sometimes whitespace is significant, sometimes it&apos;s not.</p>

                                    </li>
                                    <li class="pml-list-element">
                                        <p class="pml-paragraph">The rules for proper whitespace-handling can vary largely ‚Äî they depend on the nature and context of the PDML documents.</p>
                                        <p class="pml-paragraph">For example, whitespace-handling rules for data documents are usually very different from those required for markup documents.</p>
                                        <p class="pml-paragraph">This implies that different rules might be required for different parts of documents that contain a mixture of data and markup.</p>

                                    </li>

                                </ul>
                                <p class="pml-paragraph">Now that we&apos;re aware of the challenges, let&apos;s have a look at possible approaches for whitespace-handling:</p>
                                <ul class="pml-list">
                                    <li class="pml-list-element">
                                        <p class="pml-paragraph"><a class="pml-xref" href="#whitespace_functions">Utility Functions and Methods</a></p>

                                    </li>
                                    <li class="pml-list-element">
                                        <p class="pml-paragraph"><a class="pml-xref" href="#whitespace_types">Types</a></p>

                                    </li>
                                    <li class="pml-list-element">
                                        <p class="pml-paragraph"><a class="pml-xref" href="#whitespace_parser">Customized Parsers</a></p>

                                    </li>
                                    <li class="pml-list-element">
                                        <p class="pml-paragraph"><a class="pml-xref" href="#whitespace_application">Application-Specific Handling</a></p>

                                    </li>

                                </ul>
                                <p class="pml-paragraph">The best approach (or combination of approaches) depends on the domain and context in which PDML is used. The following sections provide general guidelines.</p>
                                <section id="whitespace_functions" class="pml-chapter">
                                    <h5 class="pml-chapter-title">Utility Functions and Methods</h5>
                                    <p class="pml-paragraph">A PDML implementation may provide any number of utility functions/methods designed to apply common whitespace-handling operations. They are usually invoked by the application code after the PDML document has been parsed into an AST. They may check if whitespace is contained in a node, change the data stored in the AST, or transform AST nodes into ready-to-use values of a specific type.</p>
                                    <p class="pml-paragraph">Let&apos;s look at some examples (using Java syntax):</p>
                                    <ul class="pml-list">
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph">Method <code class="pml-inline-code">isWhitespace()</code> in class <code class="pml-inline-code">TextLeafNode</code>: returns <code class="pml-inline-code">true</code> if the text leaf contains only whitespace, otherwise returns <code class="pml-inline-code">false</code>.</p>
                                            <p class="pml-paragraph">Application code can invoke code like <code class="pml-inline-code">remarkField.isWhitespace()</code>, and take appropriate action, such as ignoring the node if the method returns <code class="pml-inline-code">true</code>.</p>

                                        </li>
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph">Method <code class="pml-inline-code">trimTextLeafNodes()</code> in class <code class="pml-inline-code">TaggedBranchNode</code>: removes leading and trailing whitespace in all text leaves contained in the branch.</p>
                                            <p class="pml-paragraph">For example, consider this structure:</p>
                                            <pre class="pml-code"><code>[3d_point
    [x 123.45]
    [y   1.1 ]
    [z   3   ]
]</code></pre>
                                            <p class="pml-paragraph">Calling <code class="pml-inline-code">trimTextLeafNodes()</code> on node <code class="pml-inline-code">3d_point</code> transform the structure into this one:</p>
                                            <pre class="pml-code"><code>[3d_point
    [x 123.45]
    [y 1.1]
    [z 3]
]</code></pre>

                                        </li>
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph">Method <code class="pml-inline-code">replaceCRLFWithLF()</code> in class <code class="pml-inline-code">TaggedBranchNode</code>: replaces Windows line breaks (<code class="pml-inline-code">CRLF</code>) with Unix line breaks (<code class="pml-inline-code">LF</code>) in all text leaves contained in the branch.</p>

                                        </li>
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph">Methods to convert text leaves into typed values.</p>
                                            <p class="pml-paragraph">Consider the following node:</p>
                                            <pre class="pml-code"><code>[bonus   1,000,000 ]</code></pre>
                                            <p class="pml-paragraph">Suppose that <code class="pml-inline-code">TextLeafNode</code> provides method <code class="pml-inline-code">asInt</code> to convert the text into an <code class="pml-inline-code">int</code>. Invoking <code class="pml-inline-code">asInt</code> on the above text leaf removes leading and trailing whitespace, removes the commas, converts the remaining text into an <code class="pml-inline-code">int</code> value, and returns <code class="pml-inline-code">1000000</code> as result.</p>

                                        </li>
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph">Methods to convert a tree or sub-tree into typed values.</p>
                                            <p class="pml-paragraph">To streamline the conversion of PDML documents (or parts of it) into commonly used in-memory data structures, a PDML implementation can provide dedicated convenience methods/functions.</p>
                                            <p class="pml-paragraph">For example, we often use PDML to store collections ‚Äî mainly lists and maps (aka dictionaries, associative arrays). Therefore, the PDML reference implementation provides utility class <code class="pml-inline-code">StringMapUtil</code>, which contains convenience methods to convert PDML trees or sub-trees into <code class="pml-inline-code">Map&lt;String,String&gt;</code> objects.</p>
                                            <p class="pml-paragraph">Here&apos;s a file storing three key‚Äìvalue pairs:</p>
                                            <div class="pml-caption">File config.pdml</div>
                                            <pre class="pml-code"><code>[config
    [ip 192.168.1.1]
    [port 8080]
    [timeout]
]</code></pre>
                                            <p class="pml-paragraph">You can convert this file into a <code class="pml-inline-code">Map&lt;String,String&gt;</code> using a single line of code:</p>
                                            <pre class="pml-code"><code>Map&lt;String,String&gt; config = StringMapUtil.parseFile ( &quot;config.pdml&quot; );</code></pre>
                                            <p class="pml-paragraph"><code class="pml-inline-code">parseFile()</code> parses the file into an AST, removes insignificant whitespace (e.g. indents), ensures that the root node only contains tagged text nodes or tagged leaf nodes, and traverses the tree to create and return a <code class="pml-inline-code">Map&lt;String,String&gt;</code> object which you can then use in your application to do whatever you want.</p>

                                        </li>

                                    </ul>
                                    <p class="pml-paragraph">Utility functions/methods executing common whitespace-handling operations provide the following benefits:</p>
                                    <ul class="pml-list">
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph">You can use them in many contexts because they provide a comprehensive set of individual operations that can be combined in many different ways to cover a wide variety of needs.</p>

                                        </li>
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph">You can apply them to the whole tree, sub-trees, or individual nodes.</p>

                                        </li>
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph">You can apply different whitespace-handling rules to different sections of a document (e.g. data vs markup sections).</p>

                                        </li>
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph">The parser is much simpler to implement because there&apos;s no need for checking and handling whitespace (less <code class="pml-inline-code">if</code>s in the parser source code).</p>

                                        </li>
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph">Documents are parsed faster, because text leaves never need to be tested for whitespace and handled appropriately.</p>
                                            <p class="pml-paragraph">If your application uses only a small part of a document (quite common), you might benefit from a considerable overall performance gain, because the potentially time-consuming whitespace-handling operations are only executed on the data used by your application ‚Äî they don&apos;t need to be executed on the whole tree.</p>

                                        </li>

                                    </ul>

                                </section>
                                <section id="whitespace_types" class="pml-chapter">
                                    <h5 class="pml-chapter-title">Types</h5>
                                    <p class="pml-paragraph">A PDML type (a PDML extension, not part of Core PDML, and not specified here) can be designed to apply customized whitespace-handling rules, applied implicitly when the PDML document is parsed.</p>
                                    <p class="pml-paragraph">Consider the following code:</p>
                                    <pre class="pml-code"><code>[birthdate
    2000-01-01
]</code></pre>
                                    <p class="pml-paragraph">If node <code class="pml-inline-code">birthdate</code> is configured to be of type <code class="pml-inline-code">date</code>, then:</p>
                                    <ul class="pml-list">
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph">Leading and trailing whitespace is removed at parse-time (by functions that are part of the type and implicitly called by the parser).</p>

                                        </li>
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph">The remaining text is verified to be a valid date in the <a class="pml-link" href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> format and, if valid, stored in the AST, otherwise an error is generated.</p>

                                        </li>

                                    </ul>

                                </section>
                                <section id="whitespace_parser" class="pml-chapter">
                                    <h5 class="pml-chapter-title">Customized Parsers</h5>
                                    <p class="pml-paragraph">If you create a PDML parser for a context where whitespace-handling rules are well-known, then the best option might be to implement the rules in the parser.</p>
                                    <p class="pml-paragraph">However, as stated at the end of section <a class="pml-xref" href="#whitespace">Whitespace Rules</a>, any PDML-compliant parser must preserve whitespace <i class="pml-italic">by default</i>. Therefore, a compliant parser must support configuration options to enable whitespace-handling rules explicitly.</p>
                                    <p class="pml-paragraph">Example: Consider a parser that supports configuration option <code class="pml-inline-code">convertCRLFToLF</code>, to convert all occurrences of <code class="pml-inline-code">CRLF</code> into <code class="pml-inline-code">LF</code>. The default value of this option must be <code class="pml-inline-code">false</code>, as required by the specification (i.e. whitespace must be preserved). Hence, <code class="pml-inline-code">convertCRLFToLF</code> must explicitly be set to <code class="pml-inline-code">true</code> to enable the conversion.</p>

                                </section>
                                <section id="whitespace_application" class="pml-chapter">
                                    <h5 class="pml-chapter-title">Application-Specific Handling</h5>
                                    <p class="pml-paragraph">If whitespace-handling rules are very specific (uncommon), then the best approach is usually to implement them in the application that reads the parsed document.</p>
                                    <p class="pml-paragraph">This approach is used in the <a class="pml-link" href="https://pml-lang.dev/">Practical Markup Language (PML)</a> to implement specific rules, such as: A new paragraph is inserted automatically whenever text is separated by whitespace containing at least two Unix/Windows line breaks.</p>

                                </section>

                            </section>
                            <section id="line_breaks_tips" class="pml-chapter">
                                <h4 class="pml-chapter-title">Line Breaks</h4>
                                <p class="pml-paragraph">As previously mentioned, line breaks in text files (e.g. <code class="pml-inline-code">.pdml</code> files) can be problematic because:</p>
                                <ul class="pml-list">
                                    <li class="pml-list-element">
                                        <p class="pml-paragraph">Unix/Linux uses <code class="pml-inline-code">LF</code>, while Windows uses <code class="pml-inline-code">CRLF</code>, making them different.</p>

                                    </li>
                                    <li class="pml-list-element">
                                        <p class="pml-paragraph">Editors and other tools might silently change line breaks (<code class="pml-inline-code">CRLF</code> to <code class="pml-inline-code">LF</code> or vice versa).</p>

                                    </li>

                                </ul>
                                <section id="line_breaks_reading_tips" class="pml-chapter">
                                    <h5 class="pml-chapter-title">Reading Operations</h5>
                                    <p class="pml-paragraph">Consider the following text in a PDML document:</p>
                                    <pre class="pml-code"><code>line 1
line 2</code></pre>
                                    <p class="pml-paragraph">The actual line break inserted between the two lines depends on the tool and environment/configuration used to create the PDML document. Most editors running on Windows would (by default) insert a <code class="pml-inline-code">CRLF</code> sequence. If you later edit the document in an editor running on Linux, the line break might silently be changed to <code class="pml-inline-code">LF</code>. Line break changes might also occur due to configuration files such as <code class="pml-inline-code">.editorconfig</code> or <code class="pml-inline-code">.gitattributes</code>, or they might be caused by various tools processing the PDML documents in different environments.</p>
                                    <p class="pml-paragraph">Most modern applications promote EOL neutrality. They tolerate and handle both line break versions equally well, even if they are mixed in a single document ‚Äî no problem if <code class="pml-inline-code">CRLF</code> is changed to <code class="pml-inline-code">LF</code>, or vice versa.</p>
                                    <p class="pml-paragraph">However, unsupported line breaks can cause strange results or malfunctions. For example, a Unix tool might not work properly if Windows line breaks are present.</p>
                                    <p class="pml-paragraph">To avoid issues, you might want to force the required line break version using character escape sequences. You can force a Windows line break using <code class="pml-inline-code">\r\n</code>:</p>
                                    <pre class="pml-code"><code>line 1<b class="pml-bold">\r\n</b>line 2</code></pre>
                                    <p class="pml-paragraph">... or a Unix/Linux line break using <code class="pml-inline-code">\n</code>:</p>
                                    <pre class="pml-code"><code>line 1<b class="pml-bold">\n</b>line 2</code></pre>
                                    <p class="pml-paragraph">Although usually less user-friendly, escape sequences provide the following advantages:</p>
                                    <ul class="pml-list">
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph">The line break version (Unix or Windows) is clearly shown in editors, and the escape sequences might even be displayed in a different color.</p>

                                        </li>
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph">Automatic line break changes by editors and other tools won&apos;t affect these escape sequences.</p>

                                        </li>

                                    </ul>

                                </section>
                                <section id="line_breaks_writing_tips" class="pml-chapter">
                                    <h5 class="pml-chapter-title">Writing Operations</h5>
                                    <p class="pml-paragraph">By default, general-purpose PDML writers should:</p>
                                    <ul class="pml-list">
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph">Write line breaks stored in text leaves unchanged.</p>
                                            <p class="pml-paragraph">For example, if a text leaf contains a mixture of Unix and Windows line breaks, then they should be written without transformations, regardless of whether the application runs on Unix or Windows.</p>

                                        </li>
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph">Write OS-native line breaks for additional line breaks inserted by the writer (e.g. for pretty printing)</p>
                                            <p class="pml-paragraph">Thus, a writer running on Unix writes <code class="pml-inline-code">LF</code>; on Windows it writes <code class="pml-inline-code">CRLF</code>.</p>

                                        </li>

                                    </ul>
                                    <p class="pml-paragraph">More sophisticated writers can support parameters to customize their behavior, such as:</p>
                                    <ul class="pml-list">
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph">Enforce OS-native line breaks in the output (e.g. a writer running on Unix always writes <code class="pml-inline-code">LF</code>; on Windows it writes <code class="pml-inline-code">CRLF</code>).</p>

                                        </li>
                                        <li class="pml-list-element">
                                            <p class="pml-paragraph">Always write <code class="pml-inline-code">LF</code>, even if the application runs on Windows.</p>

                                        </li>

                                    </ul>

                                </section>

                            </section>
                            <section id="tabs_tips" class="pml-chapter">
                                <h4 class="pml-chapter-title">Character Tabulations</h4>
                                <p class="pml-paragraph">Character Tabulations (tabs) are often rendered as spaces (typically two to eight spaces per tab). If this is an issue, you can insert the escape sequence <code class="pml-inline-code">\t</code> (instead of just a single tab character), so that tabs and spaces can easily be distinguished.</p>
                                <p class="pml-paragraph">For example, if an editor is configured to display tabs as two spaces, the text <code class="pml-inline-code">foo  bar</code> doesn&apos;t tell you if two spaces or a single tab separates <code class="pml-inline-code">foo</code> from <code class="pml-inline-code">bar</code>, whereas <code class="pml-inline-code">foo\tbar</code> clearly shows that a tab is used, and the tab escape sequence might even be displayed in a different color.</p>
                                <p class="pml-paragraph">Moreover, using <code class="pml-inline-code">\t</code> prevents applications from silently replacing tabs with spaces.</p>
                                <p class="pml-paragraph">The same goes for sequences of spaces. For example, <code class="pml-inline-code">\s\s</code> (two escaped spaces) would prevent two-space indentation from being replaced by a tab when the editor is set to use tab indentations.</p>

                            </section>

                        </section>
                        <section id="binary_data_tips" class="pml-chapter">
                            <h3 class="pml-chapter-title">Encoding Binary Data</h3>
                            <p class="pml-paragraph">To encode binary data in PDML documents (e.g. images, audios, and videos), you can use common and portable binary-to-text encoding methods like <a class="pml-link" href="https://en.wikipedia.org/wiki/Base64">Base64</a>.</p>
                            <p class="pml-paragraph">The following example shows a tiny (1x1) PNG image encoded in Base64:</p>
                            <pre class="pml-code"><code>[image
    [title Example Image]
    [format PNG]
    [data
        iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwC
        AAAAC0lEQVR42mP8/wQAAwAB/AL+j3sAAAAASUVORK5CYII=
    ]
]</code></pre>

                        </section>

                    </section>
                    <section id="about" class="pml-chapter">
                        <h2 class="pml-chapter-title">About This Document</h2>
                        <section id="copyright" class="pml-chapter">
                            <h3 class="pml-chapter-title">Copyright</h3>
                            <p class="pml-paragraph">Copyright ¬© 2019-2025, Christian Neumanns.</p>
                            <p class="pml-paragraph">Everyone is permitted to:</p>
                            <ul class="pml-list">
                                <li class="pml-list-element">
                                    <p class="pml-paragraph">Copy and distribute verbatim copies of this document (changing it is not allowed).</p>

                                </li>
                                <li class="pml-list-element">
                                    <p class="pml-paragraph">Create verbatim translations of this document into other human languages and distribute them.</p>

                                </li>
                                <li class="pml-list-element">
                                    <p class="pml-paragraph">Create verbatim conversions of this document into other text formats and distribute them.</p>

                                </li>

                            </ul>

                        </section>
                        <section id="Acknowledgments" class="pml-chapter">
                            <h3 class="pml-chapter-title">Acknowledgments</h3>
                            <p class="pml-paragraph">Many thanks to Tristano Ajmone for his useful feedback to improve this document.</p>

                        </section>
                        <section id="source_code" class="pml-chapter">
                            <h3 class="pml-chapter-title">Markup</h3>
                            <p class="pml-paragraph">This document is written in <a class="pml-link" href="https://www.pml-lang.dev/">PML</a>, a lightweight markup language based on PDML.</p>

                        </section>
                        <section id="history" class="pml-chapter">
                            <h3 class="pml-chapter-title">Revision History</h3>
                            <ul class="pml-list">
                                <li class="pml-list-element">
                                    <p class="pml-paragraph">2025-xx-xx: version 2.0.0</p>

                                </li>
                                <li class="pml-list-element">
                                    <p class="pml-paragraph">2021-12-03: version 1.0.1</p>

                                </li>
                                <li class="pml-list-element">
                                    <p class="pml-paragraph">2021-06-13: version 1.0.0</p>

                                </li>

                            </ul>

                        </section>

                    </section>
                </article>
                <aside class="pml-doc-right">
                </aside>
            </div>
            <footer class="pml-doc-footer">
            </footer>
        </div>

    </body>
</html>
